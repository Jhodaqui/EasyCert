{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Solicitud de Constancia</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
      
    </style>
</head>
<body>
        <img src="{% static 'img/logo.jpg' %}" alt="Logo" class="logo">
    <div class="login-container">
        <div class="login-box">
            <h2>BIENVENIDO AL SISTEMA DE GENERACION DE CONSTANCIAS</h2>
            <p><strong>Solicita tu Constancia aquí!!</strong></p>
            <form id="constanciaForm" method="POST">
                {% csrf_token %}
                <input type="text" name="nombre" placeholder="Nombre Completo" required>
                <input type="text" name="documento" placeholder="Número Documento" required>
                <select name="tipo_documento" required>
                    <option value="">Tipo Documento</option>
                    <option value="TI">Tarjeta de Identidad</option>
                    <option value="CC">Cédula de Ciudadanía</option>
                    <option value="CE">Cédula de Extranjería</option>
                </select>
                <input type="email" name="email" placeholder="Ingresa tu email" required>
                <input type="date" name="fecha_inicio" required>
                <input type="date" name="fecha_fin" required>
                <select name="tipo_constancia" required>
                    <option value="">Tipo de constancia</option>
                    <option value="estudio">Estudio</option>
                    <option value="laboral">Laboral</option>
                </select>
                <button type="submit" class="btn-admin">Solicitar</button>
                <a href="{% url 'login' %}">
                    <button type="button" class="btn-asesor">Ingresar</button>
                </a>
            </form>
        </div>
    </div>

    <!-- Modal principal -->
    <div id="modalPrincipal" class="modal">
        <div class="modal-content">
            <h3>Tu solicitud ha sido enviada, mantente alerta de tu correo</h3>
            <img src="{% static 'img/logo.jpg' %}" alt="Icono">
            <button id="btnEditar" class="modal-btn">Verifica tu información</button>
            <button id="btnEnviarDatos" class="modal-btn">Enviar Datos</button>
        </div>
    </div>

    <!-- Modal de confirmación -->
    <div id="modalConfirmacion" class="modal">
        <div class="modal-content">
            <h3>✅ Los datos se han enviado correctamente</h3>
            <button id="btnCerrarConfirmacion" class="modal-btn">Cerrar</button>
        </div>
    </div>
{% comment %} script de las funcion de las constancias {% endcomment %}
    <script>
        const form = document.getElementById('constanciaForm');
        const modalPrincipal = document.getElementById('modalPrincipal');
        const modalConfirmacion = document.getElementById('modalConfirmacion');
        const btnEditar = document.getElementById('btnEditar');
        const btnEnviarDatos = document.getElementById('btnEnviarDatos');
        const btnCerrarConfirmacion = document.getElementById('btnCerrarConfirmacion');

        form.addEventListener('submit', function(e) {
            e.preventDefault(); // Evita envío inmediato
            modalPrincipal.style.display = 'flex';
        });

        btnEditar.addEventListener('click', function() {
            modalPrincipal.style.display = 'none';
        });

        btnEnviarDatos.addEventListener('click', function() {
            modalPrincipal.style.display = 'none';
            modalConfirmacion.style.display = 'flex';
            // Aquí podrías hacer el envío real usando AJAX o:
            // form.submit();
        });

        btnCerrarConfirmacion.addEventListener('click', function() {
            modalConfirmacion.style.display = 'none';
        });
    </script>

</body>
</html>
